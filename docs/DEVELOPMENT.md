# üõ†Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ AI Scientometer

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### **–û–±—â–∞—è —Å—Ö–µ–º–∞**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   React Frontend‚îÇ    ‚îÇ   FastAPI       ‚îÇ    ‚îÇ   MongoDB       ‚îÇ
‚îÇ   (TypeScript)  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   Backend       ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   Atlas         ‚îÇ
‚îÇ   Port: 3002    ‚îÇ    ‚îÇ   Port: 8000    ‚îÇ    ‚îÇ   Cloud DB      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚ñº                       ‚îÇ
         ‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
         ‚îÇ              ‚îÇ   AI Services   ‚îÇ              ‚îÇ
         ‚îÇ              ‚îÇ ‚Ä¢ SentenceTransf‚îÇ              ‚îÇ
         ‚îÇ              ‚îÇ ‚Ä¢ Scikit-learn  ‚îÇ              ‚îÇ
         ‚îÇ              ‚îÇ ‚Ä¢ OpenAlex API  ‚îÇ              ‚îÇ
         ‚îÇ              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
         ‚îÇ                                               ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
ai-scientometer/
‚îú‚îÄ‚îÄ üìÅ ai-dashboard/          # React Frontend
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÅ components/    # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AIChat.tsx    # AI —á–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx           # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.css          # –°—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ package.json         # NPM –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json        # TypeScript –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ üìÅ datasets/             # –î–∞–Ω–Ω—ã–µ –∏ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ models/           # –û–±—É—á–µ–Ω–Ω—ã–µ ML –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ processed/        # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ versions/         # –í–µ—Ä—Å–∏–∏ –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ scientometer.py          # –ì–ª–∞–≤–Ω—ã–π backend —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt         # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                     # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **1. AIService –∫–ª–∞—Å—Å**
```python
class AIService:
    def __init__(self):
        self.model = SentenceTransformer('all-MiniLM-L6-v2')
        self.classifier = SGDClassifier()
        self.db = get_database()

    def generate_chat_response(self, message: str) -> Dict:
        """–ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —á–∞—Ç–∞"""
        # –ê–Ω–∞–ª–∏–∑ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
        # –í–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

    def search_papers(self, query: str) -> List[Dict]:
        """–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π"""
        # –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
        # –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        # –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

#### **2. API Endpoints**
```python
@app.post("/api/v1/chat")
async def chat_endpoint(request: ChatMessage):
    """–û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è —á–∞—Ç–∞"""

@app.get("/api/v1/search")
async def search_papers(query: str, limit: int = 10):
    """–ü–æ–∏—Å–∫ –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π"""

@app.get("/api/v1/trends")
async def get_trends(field: str = None):
    """–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –≤ –Ω–∞—É–∫–µ"""
```

#### **3. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**
```python
class ChatMessage(BaseModel):
    message: str
    context: Optional[str] = None

class ChatResponse(BaseModel):
    response: str
    recommendations: List[str]
    papers: List[Dict]
    journals: List[Dict]
    confidence: float
```

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**

#### **1. –ù–æ–≤—ã–π —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ –≤ —á–∞—Ç–µ**
```python
# –í –º–µ—Ç–æ–¥–µ generate_chat_response –¥–æ–±–∞–≤–∏—Ç—å:
elif any(word in message_lower for word in ['–Ω–æ–≤—ã–π', '—Ç–∏–ø', '–∑–∞–ø—Ä–æ—Å–∞']):
    return self._handle_new_query_type(message)

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫:
def _handle_new_query_type(self, message: str) -> Dict:
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤"""
    response = "–í–∞—à –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–¥–µ—Å—å"

    return {
        "response": response,
        "recommendations": ["–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 1", "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2"],
        "papers": [],
        "journals": [],
        "confidence": 0.8
    }
```

#### **2. –ù–æ–≤—ã–π API endpoint**
```python
@app.get("/api/v1/new-feature")
async def new_feature_endpoint(param: str):
    """–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ endpoint"""
    try:
        ai = get_ai_service()
        result = ai.new_feature_method(param)
        return {"status": "success", "data": result}
    except Exception as e:
        return {"status": "error", "message": str(e)}
```

### **–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö**

#### **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB**
```python
def get_database():
    client = MongoClient(MONGODB_URL)
    return client[DATABASE_NAME]

def get_collection(name: str):
    db = get_database()
    return db[name]
```

#### **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏**
```python
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
def save_paper(paper_data: Dict):
    collection = get_collection("papers")
    collection.insert_one(paper_data)

# –ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π
def find_papers(query: Dict, limit: int = 10):
    collection = get_collection("papers")
    return list(collection.find(query).limit(limit))

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
def update_paper(paper_id: str, update_data: Dict):
    collection = get_collection("papers")
    collection.update_one({"_id": paper_id}, {"$set": update_data})
```

## ‚öõÔ∏è Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

#### **1. –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç App.tsx**
```typescript
function App() {
  const [activePage, setActivePage] = useState<ActivePage>('dashboard');

  const renderPage = () => {
    switch (activePage) {
      case 'dashboard': return <Dashboard />;
      case 'chat': return <AIChat />;
      default: return <Dashboard />;
    }
  };

  return (
    <div className="App">
      <Navigation activePage={activePage} setActivePage={setActivePage} />
      {renderPage()}
    </div>
  );
}
```

#### **2. AI Chat –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
```typescript
const AIChat: React.FC = () => {
  const [messages, setMessages] = useState<ChatMessage[]>([]);
  const [isLoading, setIsLoading] = useState(false);
  const [isThinking, setIsThinking] = useState(false);

  const sendMessage = async (message: string) => {
    setIsThinking(true);
    // –°–∏–º—É–ª—è—Ü–∏—è "–¥—É–º–∞–Ω–∏—è"
    await simulateThinking();

    // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ API
    const response = await fetch('/api/v1/chat', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({message})
    });

    const data = await response.json();
    setMessages(prev => [...prev, data]);
    setIsThinking(false);
  };

  return (
    <div className="ai-chat">
      {/* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞ */}
    </div>
  );
};
```

### **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

#### **1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**
```typescript
// src/components/NewComponent.tsx
import React, { useState, useEffect } from 'react';

interface NewComponentProps {
  data: any[];
  onUpdate: (data: any) => void;
}

const NewComponent: React.FC<NewComponentProps> = ({ data, onUpdate }) => {
  const [state, setState] = useState(null);

  useEffect(() => {
    // –õ–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
  }, []);

  return (
    <div className="new-component">
      {/* JSX —Ä–∞–∑–º–µ—Ç–∫–∞ */}
    </div>
  );
};

export default NewComponent;
```

#### **2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π**
```css
/* src/App.css */
.new-component {
  display: flex;
  flex-direction: column;
  padding: 20px;
  background: #1e293b;
  border-radius: 12px;
}

.new-component-item {
  margin-bottom: 16px;
  padding: 12px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.new-component-item:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-2px);
}
```

### **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

#### **–°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª–∏–µ–Ω—Ç–∞**
```typescript
// src/services/api.ts
class APIClient {
  private baseURL = 'http://localhost:8000/api/v1';

  async chat(message: string, context?: string) {
    const response = await fetch(`${this.baseURL}/chat`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({message, context})
    });
    return response.json();
  }

  async searchPapers(query: string, limit = 10) {
    const response = await fetch(
      `${this.baseURL}/search?query=${encodeURIComponent(query)}&limit=${limit}`
    );
    return response.json();
  }
}

export const apiClient = new APIClient();
```

#### **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**
```typescript
import { apiClient } from '../services/api';

const MyComponent = () => {
  const [data, setData] = useState([]);

  const fetchData = async () => {
    try {
      const result = await apiClient.searchPapers('machine learning');
      setData(result.papers);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    }
  };

  useEffect(() => {
    fetchData();
  }, []);
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **Backend —Ç–µ—Å—Ç—ã**
```python
# test_api.py
import pytest
import requests

def test_chat_endpoint():
    response = requests.post('http://localhost:8000/api/v1/chat',
                           json={'message': '–ü—Ä–∏–≤–µ—Ç'})
    assert response.status_code == 200
    data = response.json()
    assert 'ai_response' in data
    assert data['ai_response']['confidence'] > 0

def test_search_endpoint():
    response = requests.get('http://localhost:8000/api/v1/search?query=AI')
    assert response.status_code == 200
    data = response.json()
    assert 'papers' in data
```

### **Frontend —Ç–µ—Å—Ç—ã**
```typescript
// src/components/__tests__/AIChat.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import AIChat from '../AIChat';

test('–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ', async () => {
  render(<AIChat />);

  const input = screen.getByPlaceholderText('–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å AI –∞–≥–µ–Ω—Ç—É...');
  const button = screen.getByText('–û—Ç–ø—Ä–∞–≤–∏—Ç—å');

  fireEvent.change(input, { target: { value: '–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ' } });
  fireEvent.click(button);

  expect(screen.getByText('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ')).toBeInTheDocument();
});
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
```dockerfile
# Dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000

CMD ["python", "scientometer.py"]
```

```dockerfile
# ai-dashboard/Dockerfile
FROM node:16-alpine

WORKDIR /app
COPY package*.json ./
RUN npm install

COPY . .
RUN npm run build

EXPOSE 3002
CMD ["npm", "start"]
```

### **Docker Compose**
```yaml
# docker-compose.yml
version: '3.8'

services:
  backend:
    build: .
    ports:
      - "8000:8000"
    environment:
      - MONGODB_URL=${MONGODB_URL}
    depends_on:
      - mongodb

  frontend:
    build: ./ai-dashboard
    ports:
      - "3002:3002"
    depends_on:
      - backend

  mongodb:
    image: mongo:latest
    ports:
      - "27017:27017"
    volumes:
      - mongodb_data:/data/db

volumes:
  mongodb_data:
```

### **CI/CD Pipeline**
```yaml
# .github/workflows/deploy.yml
name: Deploy AI Scientometer

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Python
        uses: actions/setup-python@v2
        with:
          python-version: 3.9
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Run tests
        run: pytest

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        run: |
          # –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
```python
import logging
from datetime import datetime

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('logs/scientometer.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
logger.info("–ó–∞–ø—É—Å–∫ AI Scientometer")
logger.error(f"–û—à–∏–±–∫–∞: {error}")
```

### **–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
```python
import time
from functools import wraps

def measure_time(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        logger.info(f"{func.__name__} –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ {end-start:.2f}s")
        return result
    return wrapper

@measure_time
def search_papers(query: str):
    # –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞
    pass
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
```python
from pydantic import BaseModel, validator

class ChatMessage(BaseModel):
    message: str
    context: Optional[str] = None

    @validator('message')
    def validate_message(cls, v):
        if len(v) > 1000:
            raise ValueError('–°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ')
        if not v.strip():
            raise ValueError('–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º')
        return v.strip()
```

### **Rate Limiting**
```python
from slowapi import Limiter, _rate_limit_exceeded_handler
from slowapi.util import get_remote_address

limiter = Limiter(key_func=get_remote_address)
app.state.limiter = limiter
app.add_exception_handler(RateLimitExceeded, _rate_limit_exceeded_handler)

@app.post("/api/v1/chat")
@limiter.limit("10/minute")
async def chat_endpoint(request: Request, message: ChatMessage):
    # –õ–æ–≥–∏–∫–∞ —á–∞—Ç–∞
    pass
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
```python
from functools import lru_cache
import redis

# In-memory –∫—ç—à
@lru_cache(maxsize=1000)
def get_paper_embedding(paper_id: str):
    # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞
    pass

# Redis –∫—ç—à
redis_client = redis.Redis(host='localhost', port=6379, db=0)

def cache_search_results(query: str, results: List):
    redis_client.setex(f"search:{query}", 3600, json.dumps(results))

def get_cached_results(query: str):
    cached = redis_client.get(f"search:{query}")
    return json.loads(cached) if cached else None
```

### **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**
```python
import asyncio
from concurrent.futures import ThreadPoolExecutor

async def process_multiple_queries(queries: List[str]):
    with ThreadPoolExecutor(max_workers=4) as executor:
        loop = asyncio.get_event_loop()
        tasks = [
            loop.run_in_executor(executor, process_single_query, query)
            for query in queries
        ]
        results = await asyncio.gather(*tasks)
    return results
```

---

**üîß –ì–æ—Ç–æ–≤—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ? –ù–∞—á–Ω–∏—Ç–µ —Å –∏–∑—É—á–µ–Ω–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ Pull Request!**
